if (self.CavalryLogger) { CavalryLogger.start_js(["tY9FimN"]); }

__d("CometUFIStoryLastResortUnreactActionRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}];return{kind:"SplitOperation",metadata:{},name:"CometUFIStoryLastResortUnreactActionRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a],storageKey:null},{alias:null,args:b,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},a],storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("CometUFIStoryLastResortUnreactActionRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}];return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIStoryLastResortUnreactActionRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{alias:null,args:b,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null}],type:"UFIStoryLastResortUnreactActionRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIStoryLastResortUnreactActionRenderer.react",["fbt","ix","CometPressable.react","CometReactionIcon.react","CometRelay","CometRow.react","CometRowItem.react","CometTrackingNodeProvider.react","CometUFIStoryLastResortUnreactActionRenderer_renderer.graphql","CometWithReactionBounceAnimation.react","ODS","TetraIcon.react","TetraText.react","UFI2ReactionUtils","UFIReactionTypes","collectDataAttributes","cometGetKeyCommandConfig","fbicon","react","recoverableViolation","requireDeferred","unrecoverableViolation","useCometUFICodedErrorDialog","useKeyCommands","useTrackingCodeFnForComet"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useCallback,m=e.useMemo,n=e.useRef,o=c("requireDeferred")("CometUFIFeedbackReactMutation").__setRef("CometUFIStoryLastResortUnreactActionRenderer.react"),p={labelContainer:{height:"qu8okrzs",whiteSpace:"g0qnabr5"}};function q(a){var b=a.onKeyboardLike;a=m(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","likeStory",b)]},[b]);c("useKeyCommands")(a,!0);return null}function a(a){var e=a.feedbackSource;a=a.renderer;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFIStoryLastResortUnreactActionRenderer_renderer.graphql"),a);var f=a.feedback;if(f==null)throw c("unrecoverableViolation")("Failed to load `feedback` with which to render the story unreact button.","ufi2");a=d("UFI2ReactionUtils").checkReactionKey((a=f.viewer_feedback_reaction_info)==null?void 0:a.key);var g=n(),m=d("CometRelay").useRelayEnvironment();function r(a,b){var d=g.current;return d?c("collectDataAttributes")(d,a,b):null}var s=c("useTrackingCodeFnForComet")(),t=c("useCometUFICodedErrorDialog")(),u=t.errorDialog,v=t.setError;t=l(function(){var a,b=f.id;a=(a=f.viewer_actor)==null?void 0:a.id;if(b==null||a==null){c("recoverableViolation")("Error feedbackID or actorID is undefined so a user cannot react","ufi2");return}var g=babelHelpers["extends"]({feedback_id:b,feedback_reaction:0,feedback_source:e},s(r));o.onReadyImmediately(function(a){a.commit({environment:m,input:g,onError:v,useDefaultActor:!1})});d("ODS").bumpFraction(2507,"ufi_reaction_mutation","deferred_mutation_code_not_yet_loaded",o.getModuleIfRequireable()?0:1,1)},[m,f.id,(t=f.viewer_actor)==null?void 0:t.id,e,v,s]);if(!a)return null;var w=c("UFIReactionTypes").reactions[a],x=w.color;w=w.display_name;var y=h._("Remove {selected reaction}",[h._param("selected reaction",w)]),z="CometUFIReactionActionLinkReactionIcon-"+w.toLowerCase();a!==1?z=k.jsx(c("CometReactionIcon.react"),{alt:w,reactionType:a,size:18,testid:void 0}):z=k.jsx(c("TetraIcon.react"),{color:"highlight",icon:d("fbicon")._(i("509922"),18),testid:void 0});z=k.jsx(c("CometWithReactionBounceAnimation.react"),{reaction:a,children:z});return k.jsxs(c("CometTrackingNodeProvider.react"),{trackingNode:6,children:[k.jsx(c("CometPressable.react"),{label:y,onPress:t,onPressIn:function(){if(g.current!=null){var a=g.current;a.style.transform="scale("+Math.max(.96,(a.offsetWidth-10)/a.offsetWidth)+")"}},onPressOut:function(){var a=g.current;a!=null&&(a.style.transform="none")},overlayRadius:4,preventContextMenu:!0,ref:g,testid:void 0,children:k.jsxs(c("CometRow.react"),{align:"center",expanding:!0,paddingTop:0,spacingHorizontal:8,verticalAlign:"center",xstyle:p.labelContainer,children:[k.jsx(c("CometRowItem.react"),{children:z}),k.jsx(c("CometRowItem.react"),{children:k.jsx(c("TetraText.react"),{color:"secondary",type:"bodyLink3",children:k.jsx("span",{style:{color:x},children:w})})})]})}),k.jsx(q,{onKeyboardLike:t}),u]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);